{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":"<p>Lightweight, secure system monitoring and control via MQTT for Home Assistant and more.</p> <p>System Link is a powerful tool for monitoring and controlling your systems, it integrates natively with Home Assistant via MQTT Discovery, communicates securely over MQTT, and is a single lightweight binary you can deploy anywhere.</p>"},{"location":"#features","title":"\u2728 Features","text":""},{"location":"#component-types","title":"\ud83d\udd0c Component Types","text":"<ul> <li>Sensors \u2013 Monitor system metrics like CPU, memory, disk, uptime, battery, and ZFS pools</li> <li>Binary Sensors \u2013 Track system status and states</li> <li>Buttons \u2013 Execute actions like shutdown, sleep, lock, reload, and custom commands</li> <li>Switches \u2013 Toggle system behavior including startup programs and scheduled cron jobs</li> <li>Locks \u2013 Control complex state machines with lock/unlock commands</li> <li>Images \u2013 Capture and stream screenshots from your system</li> <li>Updaters \u2013 Keep System Link up to date remotely through Home Assistant</li> </ul>"},{"location":"#key-capabilities","title":"\ud83d\ude80 Key Capabilities","text":"<ul> <li>Filters \u2013 Reduce unnecessary updates with averaging, throttling, and delta filters</li> <li>Remote Updates \u2013 Update System Link directly from Home Assistant</li> <li>Custom Commands \u2013 Define your own buttons, switches, and sensors with custom scripts</li> <li>Secure by Design \u2013 Preconfigured commands only, no arbitrary command execution, and opt-in to what components you want to expose.</li> <li>Access Control \u2013 Fine-grained MQTT ACL support for restricting device permissions</li> <li>Encrypted Communication \u2013 Full TLS support with hostname verification</li> </ul>"},{"location":"#use-cases","title":"\ud83c\udfaf Use Cases","text":"<ul> <li>System Monitoring \u2013 Track CPU, memory, disk usage, and more from Home Assistant</li> <li>Remote Control \u2013 Safely shutdown, restart, or lock computers remotely</li> <li>Automation Platform \u2013 Run scheduled tasks and health checks with cron switches</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Get started in minutes:</p> Linux/macOSWindowsDocker <pre><code>sh -c \"$(curl -fsSL jcwillox.com/l/syslink)\"\n</code></pre> <pre><code>iwr -useb jcwillox.com/l/syslink-ps1 | iex\n</code></pre> <pre><code>docker pull ghcr.io/jcwillox/system-link:python3-alpine\n</code></pre> <p>Then create a <code>config.yaml</code> file with your MQTT broker details:</p> <pre><code>mqtt:\n  host: 127.0.0.1\n  port: 1883\n  username: your_username\n  password: your_password\n\nbuttons:\n  - shutdown: {}\n\nsensors:\n  - cpu: {}\n  - memory: {}\n</code></pre> <p>See the Getting Started Guide for detailed instructions.</p>"},{"location":"advanced/","title":"Advanced","text":"<p>Advanced features and configuration options for power users.</p>"},{"location":"advanced/#topics","title":"Topics","text":"<ul> <li>Filters \u2013 Reduce unnecessary updates with averaging, throttling, and delta filters</li> <li>Templates \u2013 Use template variables in your configuration</li> <li>Scheduled Tasks \u2013 Run Python scripts and custom commands on a schedule</li> </ul>"},{"location":"advanced/filters/","title":"Filters","text":"<p>Filters allow you to control when sensor values are published to MQTT, reducing network traffic and database load in Home Assistant.</p> <p>This filters implementation is based on ESPHome's sensor filters, we support a subset of those filters.</p> <p>Filters are applied in the order they are defined in your configuration, i.e. the output of one filter is the input to the next.</p>"},{"location":"advanced/filters/#why-use-filters","title":"Why Use Filters?","text":"<p>Without filters, sensors publish every time they update:</p> <pre><code>sensors:\n  - cpu:\n      update_interval: 3s  # Publishes 1,200 times per hour!\n</code></pre> <p>With filters, you control when updates are sent:</p> <pre><code>sensors:\n  - cpu:\n      update_interval: 3s\n      filters:\n        - throttle: 5m     # Publishes max 12 times per hour\n</code></pre> <p>Benefits:</p> <ul> <li> <p>\u2b07\ufe0f Reduced MQTT traffic</p> </li> <li> <p>\u2b07\ufe0f Fewer database writes</p> </li> <li> <p>\u2b07\ufe0f Extended SSD lifespan</p> </li> <li> <p>\u2b07\ufe0f Lower network bandwidth usage</p> </li> </ul>"},{"location":"advanced/filters/#available-filters","title":"Available Filters","text":""},{"location":"advanced/filters/#throttle","title":"Throttle","text":"<p>Limit update frequency to a minimum interval.</p> <pre><code>filters:\n  - throttle: 5m  # Publish at most every 5 minutes\n</code></pre>"},{"location":"advanced/filters/#delta","title":"Delta","text":"<p>Publish only when value changes by a specified amount.</p> <pre><code>filters:\n  - delta: 5  # Publish only if value changes by 5\n</code></pre>"},{"location":"advanced/filters/#throttle-average","title":"Throttle Average","text":"<p>Average readings over a time period before applying other filters.</p> <pre><code>filters:\n  - throttle_average: 30s  # Average values over 30 seconds\n</code></pre>"},{"location":"advanced/filters/#or-filter","title":"OR Filter","text":"<p>Publish if ANY condition is met.</p> <pre><code>filters:\n  - or:\n      - throttle: 5m   # Publish every 5 minutes\n      - delta: 10      # OR if value changes by 10\n</code></pre>"},{"location":"advanced/filters/#examples","title":"Examples","text":""},{"location":"advanced/filters/#cpu-usage","title":"CPU Usage","text":"<p>Frequent sampling with smart reporting:</p> <pre><code>sensors:\n  - cpu:\n      update_interval: 3s\n      filters:\n        - throttle_average: 30s\n        - or:\n            - throttle: 5m\n            - delta: 5\n</code></pre> <p>Result:</p> <ol> <li>Check every 3 seconds</li> <li>Average over 30 seconds</li> <li>Publish if 5 minutes passed OR value changed by 5%</li> </ol> <p>Use Case: Regular updates for graphs + immediate notification of spikes.</p>"},{"location":"advanced/filters/#memory-usage","title":"Memory Usage","text":"<p>Less frequent updates, change-based reporting:</p> <pre><code>sensors:\n  - memory:\n      update_interval: 30s\n      filters:\n        - or:\n            - throttle: 10m\n            - delta: 5\n</code></pre> <ul> <li>Checks: Every 30 seconds</li> <li>Publishes: Every 10 minutes OR when change &gt; 5%</li> </ul>"},{"location":"advanced/filters/#disk-usage","title":"Disk Usage","text":"<p>Infrequent checks, large change threshold:</p> <pre><code>sensors:\n  - disk:\n      update_interval: 5m\n      filters:\n        - or:\n            - throttle: 1h\n            - delta: 2\n</code></pre> <ul> <li>Checks: Every 5 minutes</li> <li>Publishes: Every hour OR when change &gt; 2%</li> </ul>"},{"location":"advanced/filters/#uptime","title":"Uptime","text":"<p>Very infrequent, no need for frequent updates:</p> <pre><code>sensors:\n  - uptime:\n      update_interval: 1h\n      filters:\n        - throttle: 6h\n</code></pre> <ul> <li>Checks: Every hour</li> <li>Publishes: Every 6 hours</li> </ul>"},{"location":"advanced/filters/#battery","title":"Battery","text":"<p>Moderate frequency with change detection:</p> <pre><code>sensors:\n  - battery:\n      update_interval: 30s\n      filters:\n        - or:\n            - throttle: 5m\n            - delta: 1\n</code></pre> <ul> <li>Checks: Every 30 seconds</li> <li>Publishes: Every 5 minutes OR when change &gt; 1%</li> </ul>"},{"location":"advanced/filters/#filter-behavior-examples","title":"Filter Behavior Examples","text":"Filter Behavior Examples"},{"location":"advanced/filters/#example-1-throttle-only","title":"Example 1: Throttle Only","text":"<pre><code>filters:\n  - throttle: 5m\n</code></pre> <p>Timeline: <pre><code>00:00 - Value: 30% \u2192 Publish (first value)\n00:01 - Value: 35% \u2192 Skip (&lt; 5m)\n00:02 - Value: 80% \u2192 Skip (&lt; 5m)\n00:05 - Value: 75% \u2192 Publish (5m passed)\n00:10 - Value: 75% \u2192 Publish (5m passed, even if unchanged)\n</code></pre></p>"},{"location":"advanced/filters/#example-2-delta-only","title":"Example 2: Delta Only","text":"<pre><code>filters:\n  - delta: 10\n</code></pre> <p>Timeline: <pre><code>00:00 - Value: 30% \u2192 Publish (first value)\n00:01 - Value: 32% \u2192 Skip (change = 2)\n00:02 - Value: 35% \u2192 Skip (change = 5)\n00:03 - Value: 42% \u2192 Publish (change = 12)\n00:04 - Value: 43% \u2192 Skip (change = 1)\n</code></pre></p>"},{"location":"advanced/filters/#example-3-throttle-or-delta","title":"Example 3: Throttle OR Delta","text":"<pre><code>filters:\n  - or:\n      - throttle: 5m\n      - delta: 10\n</code></pre> <p>Timeline: <pre><code>00:00 - Value: 30% \u2192 Publish (first value)\n00:01 - Value: 32% \u2192 Skip (&lt; 5m AND change &lt; 10)\n00:02 - Value: 42% \u2192 Publish (change = 12)\n00:03 - Value: 43% \u2192 Skip (&lt; 5m AND change &lt; 10)\n00:07 - Value: 44% \u2192 Publish (5m passed since last publish)\n</code></pre></p>"},{"location":"advanced/filters/#example-4-average-throttle","title":"Example 4: Average + Throttle","text":"<pre><code>filters:\n  - throttle_average: 30s\n  - throttle: 5m\n</code></pre> <p>Values over 30s: 20%, 25%, 80%, 30%, 25% \u2192 Average: 36%</p> <p>Timeline: <pre><code>00:00 - Average: 36% \u2192 Publish (first value)\n00:30 - Average: 40% \u2192 Skip (&lt; 5m)\n01:00 - Average: 35% \u2192 Skip (&lt; 5m)\n05:00 - Average: 38% \u2192 Publish (5m passed)\n</code></pre></p>"},{"location":"advanced/scheduled-tasks/","title":"Scheduled Tasks","text":"<p>One of System Link's coolest features is its ability to be used as a script runner with tight integration into Home Assistant.</p> <p>This is done using cron switches, which allow you to run scripts on a schedule, or on-demand, and report to Home Assistant about their status, execution time, next/last run, error messages, and more.</p> <p>You can also combine this with custom sensors to send data back to Home Assistant from your scripts.</p> <p>Here's an example dashboard card you can create to monitor your scheduled tasks:</p> Entity images <p> </p> Dashboard configuration <p>I use Mushroom cards here, but you could easily recreate this with standard tile cards.</p> <pre><code>type: grid\ncards:\n  - type: heading\n    heading: CommBank\n    heading_style: title\n    icon: mdi:bank\n  - type: custom:mushroom-chips-card\n    chips:\n      - type: entity\n        entity: switch.pyscripts_test_script\n        icon_color: primary\n        icon: mdi:script-text-play\n      - type: entity\n        entity: button.pyscripts_test_script_run\n        tap_action:\n          action: more-info\n        hold_action:\n          action: none\n        double_tap_action:\n          action: none\n        content_info: none\n        name: Run\n        icon_color: red\n        icon: \"\"\n  - type: tile\n    entity: sensor.pyscripts_test_script_duration\n    name: Duration\n    color: primary\n    hide_state: false\n    vertical: false\n    features_position: bottom\n  - type: tile\n    entity: binary_sensor.pyscripts_test_script_successful\n    name: Status\n    vertical: false\n    features_position: bottom\n  - type: tile\n    entity: sensor.pyscripts_test_script_last_run\n    name: Last Run\n    color: primary\n    vertical: false\n    features_position: bottom\n  - type: tile\n    entity: sensor.pyscripts_test_script_next_run\n    name: Next Run\n    color: primary\n    vertical: false\n    features_position: bottom\n  - type: markdown\n    content: &gt;\n      {% set entity_id = \"binary_sensor.pyscripts_test_script_successful\"\n      %}\n\n\n      {% set stderr = state_attr(entity_id, \"stderr\") %}\n\n      {% set stdout = state_attr(entity_id, \"stdout\") %}\n\n\n      {% if stdout %}\n\n      #### Output\n\n      ```\n\n      {{ stdout }}\n\n      ```\n\n      {% endif %}\n\n\n      {% if stderr %}\n\n      #### Error\n\n      ```\n\n      {{ stderr }}\n\n      ```\n\n      {% endif %}\n\n\n      #### Exit Code: {{ state_attr(entity_id, \"code\") or 0 }}\n    visibility:\n      - condition: state\n        entity: binary_sensor.pyscripts_test_script_successful\n        state: \"on\"\n</code></pre> My rambling <p>I've tried a lot of other ways to integrate scripts with Home Assistant, but this is by far the easiest and most robust way I've found, short of actually building custom integrations for HA, which I have done for various services, but it is a lot more work.</p> <p>I've also tried using HA's rest commands, rest sensors, custom scripts that send data back via mqtt to HA with custom mqtt sensors. I also built a custom healthchecks integration, tried uptime kuma. But they all required a lot more work or lacked important features (like support for dependencies).</p> <p>This finally allows me to just write simple scripts that can be detached from HA, use whatever deps I need, install the deps/python version I want on the fly, and easily integrate monitoring and results back into HA.</p> <p>It's a great extension of system links core features of monitoring and basic remote control. I realised I could make it completely manage and return data from my scripts, obsoleting some of my old more custom methods. I'd be curious to hear the community's thoughts on this approach, and how I can improve it even further.</p>"},{"location":"advanced/scheduled-tasks/#python-scripts-dependencies","title":"Python Scripts &amp; Dependencies","text":"<p>The docker container for System Link includes both Python and UV.</p> <p>UV is a really fast python manager, with a lot of useful features. It handles python workspaces, installing deps, installing python versions of the fly, and more.</p> <p>In particular, inline metadata for dependencies is really useful here. This allows you to declare dependencies at the top of your script file, and uv will automatically install them when the script is run and then cache them for future runs.</p> <p>This means the first run of the scheduled script might be a bit slower, but it also means you don't have to install dependencies locally using a venv or bake them into your docker image yourself.</p> <p>Tip</p> <p>It particularly shines for simple scripts you may write as you can pin the deps and python version right there in the script file, and uv will install them automatically and run the script for you in a isolated environment. Meaning you don't have to worry about dependency conflicts with other scripts.</p> <p>Here's a simple example, but check uv docs for more info.</p> <pre><code># /// script\n# requires-python = \"&gt;=3.13\"\n# dependencies = [\n#   \"beautifulsoup4==4.13.3\",\n#   \"cryptography==44.0.1\",\n#   \"requests==2.32.4\",\n# ]\n# ///\n\nimport json\nimport logging.handlers\nfrom os import getenv\n\nfrom cryptography.fernet import Fernet\n\nfrom commbank import Client\n\n# ...\n</code></pre>"},{"location":"advanced/scheduled-tasks/#guide","title":"Guide","text":"<p>For this example we are going to create a script to pull our bank account information from CommBank, using the System Link docker container.</p> <p>First, let\u2019s set up the basic config, with a cron switch and a custom sensor for the account information.</p> /config/config.yaml<pre><code># device_name: \"PyScripts\"\n# host_id: b341751b-367b-4d7c-9c93-a960a20535a6\n\n# mqtt: ...\n\nbuttons: # (1)!\n  - reload: {}\n  - reset_topics: {}\n\nsensors:\n  - custom:\n      name: \"CommBank Smart Access\"\n      icon: mdi:bank\n      unique_id: commbank_smart_access\n      unit_of_measurement: AUD\n      device_class: monetary\n      state_class: total\n      command: cat /app/commbank/account.json\n      value_template: \"{{ value_json.balance }}\" # (2)!\n      json_attributes: # (3)!\n        - account_name\n        - available_balance\n        - bsb\n        - account_number\n        - transactions\n\nswitches:\n  - cron:\n      name: \"CommBank Script\"\n      icon: mdi:bank\n      unique_id: commbank_script\n      schedule: \"15 0 * * *\"\n      command: uv run /app/commbank/commbank.py\n      # show_output: true\n      # show_errors: true\n      entities:\n        successful: {}\n        duration: {}\n        run: {}\n        next_run: {}\n        last_run: {}\n</code></pre> <ol> <li>We're using Docker, so you don't need most of the other buttons (shutdown, exit, etc.).</li> <li>The <code>command</code> returns a JSON string; Home Assistant will parse it and <code>value_template</code> extracts the <code>balance</code>.</li> <li>Extra fields to include in the sensor's attributes.</li> </ol> <p>Now we can create a script to pull the data from CommBank and write a JSON file with the results.</p> /app/commbank/commbank.py<pre><code># /// script\n# requires-python = \"&gt;=3.13\"\n# dependencies = [\n#   \"requests==2.32.4\",\n#   \"beautifulsoup4==4.13.3\",\n# ]\n# ///\n\nimport json\nimport os\nfrom commbank import Client # (1)!\n\nUSERNAME = os.getenv(\"COMMBANK_USERNAME\")\nPASSWORD = os.getenv(\"COMMBANK_PASSWORD\")\nOUTPUT_FILE = \"/app/commbank/account.json\"\n\ndef main():\n    client = Client(timeout=10)\n    client.login(USERNAME, PASSWORD)\n\n    account = client.account(12345678)\n    account_data = {\n        \"account_name\": account.name,\n        \"balance\": account.balance,\n        \"available_balance\": account.available_balance,\n        \"bsb\": account.bsb,\n        \"account_number\": account.number,\n        \"transactions\": account.transactions(limit=5),\n    }\n\n    with open(OUTPUT_FILE, \"w\") as f:\n        f.write(json.dumps(account_data))\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <ol> <li>This is based on a lib I threw together a long time ago jcwillox/commbank-api, it's not something I really maintain, but the source is there. You could also spin up a headless browser or call any other APIs you like.</li> </ol> Adding extra logging <p>You can also add extra logging to your script and write it to a file.</p> <pre><code>import logging\nimport logging.handlers\n\n# Setup logging\n_LOGGER = logging.getLogger(\"commbank\")\n_LOGGER.setLevel(logging.DEBUG)\nhandler = logging.handlers.RotatingFileHandler(\n    \"/app/commbank/commbank.log\", maxBytes=1000000, backupCount=3\n)\nformatter = logging.Formatter(\n    \"%(asctime)s %(levelname)s [%(name)s] %(message)s\", \"%Y-%m-%d %H:%M:%S\"\n)\nhandler.setFormatter(formatter)\n_LOGGER.addHandler(handler)\n\ndef main():\n    _LOGGER.info(\"Starting CommBank script\")\n    # ...\n    _LOGGER.info(\"Successfully retrieved account data\")\n\nif __name__ == \"__main__\":\n    try:\n        main()\n    except Exception as ex:\n        _LOGGER.exception(\"Error in main method, script aborted!\\n\\n\")\n        raise ex\n</code></pre>"},{"location":"advanced/scheduled-tasks/#docker-setup","title":"Docker setup","text":"<p>Below are concise examples for organizing scripts, running the container, and a <code>docker-compose</code> service you can adapt.</p> <ul> <li>File layout</li> </ul> <pre><code>/pyscripts\n\u251c\u2500 config.yaml           # config file\n\u251c\u2500 logs/                 # log directory\n\u2514\u2500 app/\n   \u2514\u2500 commbank/\n      \u251c\u2500 commbank.py     # script file\n      \u2514\u2500 account.json    # output file written by the script\n</code></pre> <ul> <li>Starting the container</li> </ul> docker rundocker-compose.yaml <pre><code>docker run -d \\\n  --name system-link \\\n  -v /path/to/app:/app \\\n  -v /path/to/logs:/logs \\\n  -v /path/to/config.yaml:/config/config.yaml \\\n  --restart unless-stopped \\\n  ghcr.io/jcwillox/system-link:python3-alpine\n</code></pre> <pre><code>services:\n  system-link:\n    image: ghcr.io/jcwillox/system-link:python3-alpine\n    restart: unless-stopped\n    volumes:\n      - /path/to/app:/app\n      - /path/to/logs:/logs\n      - /path/to/config.yaml:/config/config.yaml\n</code></pre>"},{"location":"advanced/secrets/","title":"Secrets","text":"<p>The <code>!secret</code> tag allows you to store sensitive information in a separate <code>secrets.yaml</code> file instead of your main configuration file. This is useful for keeping passwords, tokens, and other credentials out of version control.</p>"},{"location":"advanced/secrets/#usage","title":"Usage","text":"<p>Create a <code>secrets.yaml</code> file in the same directory as your <code>config.yaml</code>:</p> <pre><code>mqtt_server: mqtt.example.com\nmqtt_password: my_secret_password\nmqtt_username: my_username\n</code></pre> <p>Then reference these secrets in your <code>config.yaml</code> using the <code>!secret</code> tag:</p> <pre><code>mqtt:\n  host: !secret mqtt_server\n  port: 1883\n  username: !secret mqtt_username\n  password: !secret mqtt_password\n</code></pre>"},{"location":"advanced/secrets/#best-practices","title":"Best Practices","text":"<ul> <li>Add <code>secrets.yaml</code> to your <code>.gitignore</code> to prevent accidentally committing secrets</li> <li>Keep all sensitive information in <code>secrets.yaml</code></li> <li>Use descriptive names for your secrets to make configuration easier to read</li> </ul>"},{"location":"advanced/splitting-configuration/","title":"Splitting Configuration","text":"<p>The <code>!include</code> tag allows you to split your configuration across multiple files, making it easier to organise and maintain large configurations.</p>"},{"location":"advanced/splitting-configuration/#usage","title":"Usage","text":"<p>Instead of putting everything in <code>config.yaml</code>, you can include content from other YAML files:</p> config.yaml<pre><code>host_id: my-device\ndevice_name: My Device\n\nmqtt:\n  host: mqtt.example.com\n  port: 1883\n\nbuttons: !include buttons.yaml\nsensors: !include sensors.yaml\n</code></pre> <p>The included files should contain valid YAML for that section:</p> buttons.yaml<pre><code>- name: Custom Action\n  icon: mdi:play\n  command: echo \"Hello World\"\n</code></pre>"},{"location":"advanced/splitting-configuration/#file-paths","title":"File Paths","text":"<ul> <li>Relative paths are resolved relative to the directory containing <code>config.yaml</code></li> <li>Absolute paths are also supported</li> </ul>"},{"location":"advanced/templating/","title":"Template Variables","text":"<p>System Link use Go templates for templating client-side fields, e.g. <code>command</code>. Other fields such as <code>value_template</code> is executed server-side by Home Assistant and uses their Jinja2 templating engine.</p> Variable Example Description <code>.ExePath</code> <code>~/.local/share/system-link/system-link</code> Full path to the System Link executable <code>.ExeDirectory</code> <code>~/.local/share/system-link</code> Directory containing the executable <code>.ExeName</code> <code>system-link</code> Executable filename <code>.Home</code> <code>~</code> Current user's home directory <code>.ShareDir</code> <code>~/.local/share/system-link</code> Application data (share) directory <code>.Portable</code> <code>false</code> Whether System Link is running in portable mode (bool) <code>.ConfigPath</code> <code>~/.config/system-link/config.yaml</code> Full path to the active config file <code>.ConfigDir</code> <code>~/.config/system-link</code> Directory containing the active config <code>.LogsPath</code> <code>~/.local/share/system-link/system-link.8k2w9a1z4m.log</code> Path to the active log file <code>.LockPath</code> <code>~/.local/share/system-link/system-link.8k2w9a1z4m.lock</code> Lock file path used to detect running instance"},{"location":"advanced/templating/#example","title":"Example","text":"<pre><code>buttons:\n  - custom:\n      command: \"{{ .ExeDirectory }}/scripts/backup.sh\"\n</code></pre>"},{"location":"components/","title":"Components Overview","text":"<p>System Link provides a variety of component types that integrate seamlessly with Home Assistant through MQTT Discovery. Each component type serves a specific purpose in monitoring or controlling your system.</p>"},{"location":"components/#component-types","title":"Component Types","text":""},{"location":"components/#sensors","title":"Sensors","text":"<p>Monitor numeric system metrics that update periodically.</p> <p>Examples: CPU usage, memory usage, disk space, uptime, battery level</p> <pre><code>sensors:\n  - cpu: {}\n  - memory: {}\n  - disk: {}\n</code></pre>"},{"location":"components/#binary-sensors","title":"Binary Sensors","text":"<p>Track boolean (on/off) states.</p> <p>Examples: System online/offline status, locked state</p> <pre><code>binary_sensors:\n  - status: {}\n</code></pre>"},{"location":"components/#buttons","title":"Buttons","text":"<p>Trigger one-time actions when pressed.</p> <p>Examples: Shutdown, restart, lock screen, custom commands</p> <pre><code>buttons:\n  - shutdown: {}\n  - lock: {}\n  - custom:\n      name: \"Run Backup\"\n      command: \"/scripts/backup.sh\"\n</code></pre>"},{"location":"components/#switches","title":"Switches","text":"<p>Toggle persistent states on and off.</p> <p>Examples: Startup programs, scheduled cron jobs</p> <pre><code>switches:\n  - startup: {}\n  - cron:\n      name: \"Daily Backup\"\n      schedule: \"0 2 * * *\"\n      command: \"/scripts/backup.sh\"\n</code></pre>"},{"location":"components/#locks","title":"Locks","text":"<p>Control state machines with lock/unlock commands.</p> <p>Examples: Start/stop applications, complex state management</p> <pre><code>locks:\n  - custom:\n      name: \"Media Player\"\n      lock:\n        command: \"vlc /path/to/video.mp4\"\n      unlock:\n        command: \"pkill vlc\"\n</code></pre>"},{"location":"components/#images","title":"Images","text":"<p>Capture and stream images from your system.</p> <p>Examples: Screenshots, webcam feeds</p> <pre><code>images:\n  - screen: {}\n</code></pre>"},{"location":"components/#updaters","title":"Updaters","text":"<p>Enable remote updating of System Link itself.</p> <p>Examples: Self-update capability through Home Assistant</p> <pre><code>updaters:\n  - update: {}\n</code></pre>"},{"location":"components/#common-configuration-options","title":"Common Configuration Options","text":"<p>All components share some common configuration options:</p> <pre><code>component_type:\n  - name: \"Custom Display Name\"\n    unique_id: \"custom_unique_id\"\n    icon: \"mdi:icon-name\"\n    availability: true\n</code></pre> Option Type Description Default <code>name</code> string Display name in Home Assistant Component-specific <code>unique_id</code> string Unique identifier for the entity Auto-generated <code>icon</code> string Material Design Icon name Component-specific <code>availability</code> boolean Track and report availability <code>true</code>"},{"location":"components/#component-categories","title":"Component Categories","text":""},{"location":"components/#monitoring-components","title":"Monitoring Components","text":"<p>Components that observe and report system state:</p> <ul> <li>Sensors - Numeric measurements</li> <li>Binary Sensors - Boolean states</li> <li>Images - Visual information</li> </ul>"},{"location":"components/#control-components","title":"Control Components","text":"<p>Components that trigger actions or change system state:</p> <ul> <li>Buttons - One-time actions</li> <li>Switches - Persistent toggles</li> <li>Locks - Stateful controls</li> </ul>"},{"location":"components/#management-components","title":"Management Components","text":"<p>Components for system management:</p> <ul> <li>Updaters - Self-update capability</li> </ul>"},{"location":"components/#selective-component-enablement","title":"Selective Component Enablement","text":"<p>One of System Link's key features is the ability to enable only the components you need. This:</p> <ul> <li>Reduces MQTT traffic</li> <li>Minimizes attack surface</li> <li>Keeps Home Assistant entity list clean</li> <li>Improves performance</li> </ul> <p>Example: Only monitoring, no control</p> <pre><code>sensors:\n  - cpu: {}\n  - memory: {}\n  - disk: {}\n\nbinary_sensors:\n  - status: {}\n\n# No buttons, switches, or locks\n</code></pre>"},{"location":"components/#custom-components","title":"Custom Components","text":"<p>Many component types support custom variants where you can define your own commands:</p>"},{"location":"components/#custom-button","title":"Custom Button","text":"<pre><code>buttons:\n  - custom:\n      name: \"Restart Service\"\n      icon: mdi:restart\n      unique_id: restart_nginx\n      command: \"systemctl restart nginx\"\n</code></pre>"},{"location":"components/#custom-sensor","title":"Custom Sensor","text":"<pre><code>sensors:\n  - custom:\n      name: \"Service Status\"\n      unique_id: nginx_status\n      command: \"systemctl is-active nginx\"\n      value_template: \"{{ value }}\"\n</code></pre>"},{"location":"components/#custom-switch-cron","title":"Custom Switch (Cron)","text":"<pre><code>switches:\n  - cron:\n      name: \"Hourly Health Check\"\n      schedule: \"0 * * * *\"\n      command: \"/scripts/health-check.sh\"\n</code></pre>"},{"location":"components/#availability-tracking","title":"Availability Tracking","text":"<p>Most components report their availability status to Home Assistant. If System Link disconnects, entities will show as \"unavailable\".</p> <p>Disable availability tracking for specific components:</p> <pre><code>images:\n  - screen:\n      availability: false  # Don't track availability\n</code></pre>"},{"location":"components/binary-sensors/","title":"Binary Sensors","text":"<p>Binary sensors track boolean (on/off) states from your system.</p>"},{"location":"components/binary-sensors/#available-binary-sensors","title":"Available Binary Sensors","text":""},{"location":"components/binary-sensors/#built-in-binary-sensors","title":"Built-in Binary Sensors","text":"<ul> <li>Status - Reports whether System Link is online and connected</li> </ul>"},{"location":"components/binary-sensors/#configuration-options","title":"Configuration Options","text":""},{"location":"components/binary-sensors/#common-options","title":"Common Options","text":"<p>All binary sensors support these common options:</p> <pre><code>binary_sensors:\n  - sensor_type:\n      name: \"Custom Name\"\n      unique_id: \"custom_id\"\n      icon: \"mdi:icon-name\"\n      availability: true\n</code></pre>"},{"location":"components/binary-sensors/status/","title":"Status","text":"<p>Reports whether System Link is online and connected.</p>"},{"location":"components/binary-sensors/status/#configuration","title":"Configuration","text":"<pre><code>binary_sensors:\n  - status: {}\n</code></pre>"},{"location":"components/binary-sensors/status/#options","title":"Options","text":"<p>All common binary sensor options are supported.</p>"},{"location":"components/buttons/","title":"Buttons","text":"<p>Buttons trigger one-time actions when pressed. They execute a command and return to their default state.</p>"},{"location":"components/buttons/#available-buttons","title":"Available Buttons","text":""},{"location":"components/buttons/#built-in-buttons","title":"Built-in Buttons","text":"<ul> <li>Shutdown \u2013 Gracefully shut down the system</li> <li>Force Shutdown \u2013 Force immediate shutdown without saving</li> <li>Lock \u2013 Lock the screen/session</li> <li>Sleep \u2013 Put the system to sleep/suspend</li> <li>Reload - Reload System Link configuration (restarts system-link process)</li> <li>Exit \u2013 Stops and exits System Link</li> <li>Reset Topics \u2013 Clear all MQTT topics published by System Link that are no longer used</li> </ul>"},{"location":"components/buttons/#custom-buttons","title":"Custom Buttons","text":"<ul> <li>Custom Button \u2013 Create buttons that run your own commands</li> </ul>"},{"location":"components/buttons/#configuration-options","title":"Configuration Options","text":""},{"location":"components/buttons/#common-options","title":"Common Options","text":"<p>All buttons support these common options:</p> <pre><code>buttons:\n  - button_type:\n      name: \"Custom Name\"\n      unique_id: \"custom_id\"\n      icon: \"mdi:icon-name\"\n      availability: true\n</code></pre>"},{"location":"components/buttons/custom/","title":"Custom Buttons","text":"<p>Create buttons that run your own commands.</p>"},{"location":"components/buttons/custom/#basic-custom-button","title":"Basic Custom Button","text":"<pre><code>buttons:\n  - custom:\n      name: \"Restart Service\"\n      icon: mdi:restart\n      unique_id: restart_nginx\n      command: \"systemctl restart nginx\"\n</code></pre>"},{"location":"components/buttons/custom/#custom-button-with-script","title":"Custom Button with Script","text":"<pre><code>buttons:\n  - custom:\n      name: \"Run Backup\"\n      icon: mdi:backup-restore\n      unique_id: run_backup\n      command: \"/scripts/backup.sh\"\n      shell: \"bash\"\n</code></pre>"},{"location":"components/buttons/custom/#custom-button-configuration","title":"Custom Button Configuration","text":"<pre><code>buttons:\n  - custom:\n      name: \"Custom Button\"\n      unique_id: \"custom_button\"\n      icon: \"mdi:gesture-tap-button\"\n      command: \"echo 'Hello World'\"\n      shell: \"bash\"              # Shell to use\n      detached: false            # Run in background\n      show_output: true          # Log command output\n      show_errors: true          # Log command errors\n      env:                       # Environment variables\n        MY_VAR: \"value\"\n</code></pre>"},{"location":"components/buttons/custom/#custom-button-options","title":"Custom Button Options","text":"Option Type Description Default <code>name</code> string Display name Required <code>unique_id</code> string Unique identifier Required <code>icon</code> string MDI icon <code>mdi:gesture-tap-button</code> <code>command</code> string Command to execute Required <code>shell</code> string Shell (bash, powershell, cmd) System default <code>detached</code> boolean Run without waiting for completion <code>false</code> <code>show_output</code> boolean Log standard output <code>false</code> <code>show_errors</code> boolean Log error output <code>false</code> <code>env</code> map Environment variables -"},{"location":"components/buttons/custom/#template-variables","title":"Template Variables","text":"<p>Custom button commands can be templated using Go templates:</p> <pre><code>buttons:\n  - custom:\n      name: \"Show Info\"\n      unique_id: show_info\n      command: |\n        echo \"Device: {{ .DeviceName }}\"\n        echo \"Host ID: {{ .HostID }}\"\n        echo \"Directory: {{ .ExeDirectory }}\"\n</code></pre> <p>See Template Variables Reference for all available variables.</p>"},{"location":"components/buttons/custom/#custom-button-examples","title":"Custom Button Examples","text":""},{"location":"components/buttons/custom/#restart-application","title":"Restart Application","text":"LinuxWindows <pre><code>buttons:\n  - custom:\n      name: \"Restart Docker\"\n      icon: mdi:docker\n      unique_id: restart_docker\n      command: \"systemctl restart docker\"\n</code></pre> <pre><code>buttons:\n  - custom:\n      name: \"Restart Service\"\n      icon: mdi:application-cog\n      unique_id: restart_service\n      shell: \"powershell\"\n      command: \"Restart-Service -Name 'MyService'\"\n</code></pre>"},{"location":"components/buttons/custom/#open-application","title":"Open Application","text":"<pre><code>buttons:\n  - custom:\n      name: \"Open Notepad\"\n      icon: mdi:note-text\n      unique_id: open_notepad\n      detached: true  # Don't wait for app to close\n      command: \"C:\\\\Windows\\\\System32\\\\notepad.exe\"\n</code></pre>"},{"location":"components/buttons/custom/#download-file","title":"Download File","text":"<pre><code>buttons:\n  - custom:\n      name: \"Download Config\"\n      icon: mdi:cloud-download-outline\n      unique_id: download_config\n      shell: \"powershell\"\n      command: |\n        $output = \"{{ .ExeDirectory }}\\config.yaml\"\n        Invoke-WebRequest -Uri \"https://example.com/config.yaml\" -OutFile $output\n</code></pre>"},{"location":"components/buttons/custom/#clean-temp-files","title":"Clean Temp Files","text":"<pre><code>buttons:\n  - custom:\n      name: \"Clean Temp\"\n      icon: mdi:delete-sweep\n      unique_id: clean_temp\n      shell: \"bash\"\n      command: |\n        rm -rf /tmp/*\n        rm -rf ~/.cache/*\n</code></pre>"},{"location":"components/buttons/custom/#docker-operations","title":"Docker Operations","text":"<pre><code>buttons:\n  - custom:\n      name: \"Restart Container\"\n      icon: mdi:docker\n      unique_id: restart_nginx\n      command: \"docker restart nginx\"\n\n  - custom:\n      name: \"Update Container\"\n      icon: mdi:update\n      unique_id: update_nginx\n      shell: \"bash\"\n      command: |\n        docker pull nginx:latest\n        docker stop nginx\n        docker rm nginx\n        docker run -d --name nginx nginx:latest\n</code></pre>"},{"location":"components/buttons/custom/#system-maintenance","title":"System Maintenance","text":"<pre><code>buttons:\n  - custom:\n      name: \"Clear Package Cache\"\n      icon: mdi:package-variant\n      unique_id: clear_cache\n      command: \"sudo apt-get clean\"\n\n  - custom:\n      name: \"Update System\"\n      icon: mdi:update\n      unique_id: update_system\n      shell: \"bash\"\n      command: |\n        sudo apt-get update\n        sudo apt-get upgrade -y\n</code></pre>"},{"location":"components/buttons/exit/","title":"Exit Button","text":"<p>Stops and exits System Link.</p>"},{"location":"components/buttons/exit/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - exit: {}\n</code></pre>"},{"location":"components/buttons/exit/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/buttons/force-shutdown/","title":"Force Shutdown Button","text":"<p>Force immediate shutdown without saving.</p>"},{"location":"components/buttons/force-shutdown/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - force_shutdown: {}\n</code></pre>"},{"location":"components/buttons/force-shutdown/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/buttons/lock/","title":"Lock Button","text":"<p>Lock the screen/session.</p>"},{"location":"components/buttons/lock/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - lock: {}\n</code></pre>"},{"location":"components/buttons/lock/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/buttons/reload/","title":"Reload Button","text":"<p>Reload System Link configuration (restarts system-link process).</p>"},{"location":"components/buttons/reload/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - reload: {}\n</code></pre>"},{"location":"components/buttons/reload/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/buttons/reset-topics/","title":"Reset Topics Button","text":"<p>Clear all MQTT topics published by System Link, and restarts System Link.</p> <p>This is very useful for cleaning up entities which are no longer exposed, for example if you removed components from your configuration.</p>"},{"location":"components/buttons/reset-topics/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - reset_topics: {}\n</code></pre>"},{"location":"components/buttons/reset-topics/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/buttons/shutdown/","title":"Shutdown Button","text":"<p>Gracefully shut down the system.</p>"},{"location":"components/buttons/shutdown/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - shutdown: {}\n</code></pre>"},{"location":"components/buttons/shutdown/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/buttons/sleep/","title":"Sleep Button","text":"<p>Put the system to sleep/suspend.</p>"},{"location":"components/buttons/sleep/#configuration","title":"Configuration","text":"<pre><code>buttons:\n  - sleep: {}\n</code></pre>"},{"location":"components/buttons/sleep/#options","title":"Options","text":"<p>All common button options are supported.</p>"},{"location":"components/images/","title":"Images","text":"<p>Image components capture and stream images from your system to Home Assistant.</p>"},{"location":"components/images/#available-images","title":"Available Images","text":""},{"location":"components/images/#screen-capture","title":"Screen Capture","text":"<ul> <li>Screen - Capture screenshots from your system</li> </ul>"},{"location":"components/images/#configuration-options","title":"Configuration Options","text":""},{"location":"components/images/#common-options","title":"Common Options","text":"<p>All image components support these common options:</p> <pre><code>images:\n  - image_type:\n      name: \"Custom Name\"\n      unique_id: \"custom_id\"\n      availability: false  # Don't track availability (recommended for images)\n</code></pre>"},{"location":"components/images/screen/","title":"Screen","text":"<p>Capture screenshots from your system.</p>"},{"location":"components/images/screen/#basic-configuration","title":"Basic Configuration","text":"<pre><code>images:\n  - screen: {}\n</code></pre>"},{"location":"components/images/screen/#configuration-options","title":"Configuration Options","text":"<pre><code>images:\n  - screen:\n      availability: false  # Don't track availability (recommended)\n      entities:\n        timing: {}         # Enable entity to track how long image capture takes\n        interval:          # Enable entity to control screenshot interval\n          min: 0.1\n          max: 30\n          step: 0.1\n</code></pre> <p>Note</p> <p>Capture interval should be greater than the time it takes to capture the screenshot, and higher capture rates will use more CPU and bandwidth, although on modern CPUs this should be minimal.</p>"},{"location":"components/images/screen/#sub-entities","title":"Sub-Entities","text":""},{"location":"components/images/screen/#timing","title":"Timing","text":"<p>Creates a sensor to monitor how long each screenshot capture takes.</p> <pre><code>images:\n  - screen:\n      entities:\n        timing: {}\n</code></pre>"},{"location":"components/images/screen/#interval","title":"Interval","text":"<p>This creates a number input in Home Assistant where you can control and override the default capture interval.</p> <pre><code>images:\n  - screen:\n      entities:\n        interval:\n          min: 1      # Minimum 1 second\n          max: 60     # Maximum 60 seconds\n          step: 1     # Increment by 1 second\n</code></pre>"},{"location":"components/images/screen/#options","title":"Options","text":"<p>All common image options are supported.</p>"},{"location":"components/locks/","title":"Locks","text":"<p>Locks provide stateful control with separate lock and unlock commands. They're perfect for managing applications or services that need to be started and stopped.</p>"},{"location":"components/locks/#available-locks","title":"Available Locks","text":""},{"location":"components/locks/#custom-locks","title":"Custom Locks","text":"<ul> <li>Custom Lock - Define locks with separate lock and unlock commands</li> </ul>"},{"location":"components/locks/custom/","title":"Custom Locks","text":"<p>Locks provide stateful control with separate lock and unlock commands. They're perfect for managing applications or services that need to be started and stopped.</p> <p>Locks are always custom-defined with separate lock and unlock commands.</p>"},{"location":"components/locks/custom/#basic-lock-configuration","title":"Basic Lock Configuration","text":"<pre><code>locks:\n  - custom:\n      name: \"Media Player\"\n      unique_id: media_player\n      lock:\n        command: \"vlc /path/to/video.mp4\"\n      unlock:\n        command: \"pkill vlc\"\n</code></pre>"},{"location":"components/locks/custom/#lock-configuration-options","title":"Lock Configuration Options","text":"<pre><code>locks:\n  - custom:\n      name: \"Custom Lock\"\n      unique_id: \"custom_lock\"\n      icon: \"mdi:lock\"\n      optimistic: false          # Update state optimistically\n      lock:                      # Lock command (required)\n        command: \"start_app.sh\"\n        shell: \"bash\"\n        detached: true\n        show_output: false\n        show_errors: false\n        env:\n          VAR: \"value\"\n      unlock:                    # Unlock command (required)\n        command: \"stop_app.sh\"\n        shell: \"bash\"\n        show_output: false\n        show_errors: false\n</code></pre>"},{"location":"components/locks/custom/#optimistic-mode","title":"Optimistic Mode","text":"<p>When <code>optimistic: true</code>, the lock immediately updates its state in Home Assistant when commanded, without waiting for confirmation. This is useful for commands that don't provide feedback.</p> <pre><code>locks:\n  - custom:\n      name: \"Quick Lock\"\n      unique_id: quick_lock\n      optimistic: true  # Update state immediately\n      lock:\n        command: \"start_service.sh\"\n      unlock:\n        command: \"stop_service.sh\"\n</code></pre>"},{"location":"components/locks/custom/#advanced-examples","title":"Advanced Examples","text":""},{"location":"components/locks/custom/#application-with-cleanup","title":"Application with Cleanup","text":"<p>Start an application and ensure proper cleanup on stop:</p> <pre><code>locks:\n  - custom:\n      name: \"Notepad Manager\"\n      unique_id: notepad_manager\n      optimistic: true\n      lock:\n        detached: true\n        shell: \"powershell\"\n        command: |\n          taskkill /f /im notepad.exe /erroraction SilentlyContinue\n          Start-Process notepad.exe\n      unlock:\n        shell: \"powershell\"\n        command: |\n          taskkill /f /im notepad.exe\n</code></pre>"},{"location":"components/locks/custom/#docker-compose-stack","title":"Docker Compose Stack","text":"<p>Control entire Docker Compose stacks:</p> <pre><code>locks:\n  - custom:\n      name: \"Application Stack\"\n      unique_id: app_stack\n      lock:\n        shell: \"bash\"\n        command: |\n          cd /opt/myapp\n          docker-compose up -d\n      unlock:\n        shell: \"bash\"\n        command: |\n          cd /opt/myapp\n          docker-compose down\n</code></pre>"},{"location":"components/locks/custom/#process-with-monitoring","title":"Process with Monitoring","text":"<p>Start a process and monitor it:</p> <pre><code>locks:\n  - custom:\n      name: \"Monitored Service\"\n      unique_id: monitored_service\n      lock:\n        shell: \"bash\"\n        command: |\n          /usr/local/bin/myservice &amp;\n          echo $! &gt; /var/run/myservice.pid\n      unlock:\n        shell: \"bash\"\n        command: |\n          if [ -f /var/run/myservice.pid ]; then\n            kill $(cat /var/run/myservice.pid)\n            rm /var/run/myservice.pid\n          fi\n</code></pre>"},{"location":"components/locks/custom/#screen-lock-with-application","title":"Screen Lock with Application","text":"<p>Lock screen and start a screensaver app:</p> <pre><code>locks:\n  - custom:\n      name: \"Screensaver Lock\"\n      unique_id: screensaver_lock\n      optimistic: true\n      lock:\n        detached: true\n        shell: \"bash\"\n        command: |\n          gnome-screensaver-command -l\n          /usr/local/bin/custom-screensaver &amp;\n      unlock:\n        command: \"pkill custom-screensaver\"\n</code></pre>"},{"location":"components/locks/custom/#template-variables","title":"Template Variables","text":"<p>Lock commands have access to template variables:</p> <pre><code>locks:\n  - custom:\n      name: \"Custom App\"\n      unique_id: custom_app\n      lock:\n        shell: \"bash\"\n        command: |\n          cd \"{{ .ExeDirectory }}/apps\"\n          ./myapp.sh start\n      unlock:\n        command: \"{{ .ExeDirectory }}/apps/myapp.sh stop\"\n</code></pre> <p>See Template Variables Reference.</p>"},{"location":"components/sensors/","title":"Sensors","text":"<p>Sensors monitor numeric values and metrics from your system. They update periodically and can have filters applied to reduce MQTT traffic.</p>"},{"location":"components/sensors/#available-sensors","title":"Available Sensors","text":""},{"location":"components/sensors/#built-in-sensors","title":"Built-in Sensors","text":"<ul> <li>CPU - Monitor CPU utilization as a percentage</li> <li>Memory - Monitor RAM usage (percentage, used, free)</li> <li>Disk - Monitor disk space usage (percentage, used, free)</li> <li>Swap - Monitor swap/page file usage (percentage, used, free)</li> <li>ZFS Pool - Monitor ZFS pool usage (percentage, used, free)</li> <li>Uptime - Track system uptime</li> <li>Battery - Monitor battery level and charging state</li> </ul>"},{"location":"components/sensors/#custom-sensors","title":"Custom Sensors","text":"<ul> <li>Custom Sensor - Create your own sensors by running custom commands</li> </ul>"},{"location":"components/sensors/#configuration-options","title":"Configuration Options","text":""},{"location":"components/sensors/#common-options","title":"Common Options","text":"<p>All sensors support these common options:</p> <pre><code>sensors:\n  - sensor_type:\n      name: \"Custom Name\"\n      unique_id: \"custom_id\"\n      icon: \"mdi:icon-name\"\n      availability: true\n      update_interval: 10s\n      filters: []\n</code></pre>"},{"location":"components/sensors/#update-interval","title":"Update Interval","text":"<p>Control how often sensors check for updates:</p> <pre><code>sensors:\n  - cpu:\n      update_interval: 5s   # Check every 5 seconds\n  - disk:\n      update_interval: 5m   # Check every 5 minutes\n</code></pre> <p>Valid time units: <code>s</code> (seconds), <code>m</code> (minutes), <code>h</code> (hours)</p>"},{"location":"components/sensors/#filters","title":"Filters","text":"<p>Apply filters to reduce update frequency and control when values are published:</p> <pre><code>sensors:\n  - cpu:\n      update_interval: 3s\n      filters:\n        - throttle_average: 30s  # Average over 30 seconds\n        - or:\n            - throttle: 5m       # Publish at least every 5 minutes\n            - delta: 5           # Or when value changes by 5%\n</code></pre> <p>See Filters Documentation for detailed information.</p>"},{"location":"components/sensors/#device-classes","title":"Device Classes","text":"<p>Custom sensors can use Home Assistant device classes, see available device classes.</p> <pre><code>sensors:\n  - custom:\n      device_class: \"temperature\"\n      unit_of_measurement: \"\u00b0C\"\n</code></pre>"},{"location":"components/sensors/#state-classes","title":"State Classes","text":"<p>Enable long-term statistics in Home Assistant, see available state classes.</p> <pre><code>sensors:\n  - custom:\n      state_class: \"measurement\"\n</code></pre>"},{"location":"components/sensors/#examples","title":"Examples","text":""},{"location":"components/sensors/#efficient-cpu-monitoring","title":"Efficient CPU Monitoring","text":"<pre><code>sensors:\n  - cpu:\n      update_interval: 3s\n      filters:\n        - throttle_average: 30s\n        - or:\n            - throttle: 5m\n            - delta: 5\n</code></pre> <p>This configuration:</p> <ul> <li>Checks CPU every 3 seconds</li> <li>Averages readings over 30 seconds</li> <li>Publishes if value changes by 5% OR every 5 minutes</li> </ul>"},{"location":"components/sensors/#complete-system-monitoring","title":"Complete System Monitoring","text":"<pre><code>sensors:\n  - cpu:\n      update_interval: 10s\n      filters:\n        - throttle_average: 30s\n        - or:\n            - throttle: 5m\n            - delta: 5\n\n  - memory: {}\n  - memory_used: {}\n  - memory_free: {}\n\n  - swap: {}\n  - swap_used: {}\n  - swap_free: {}\n\n  - disk: {}\n  - disk_used: {}\n  - disk_free: {}\n\n  - uptime: {}\n\n  - battery: {}\n  - battery_state: {}\n</code></pre>"},{"location":"components/sensors/battery/","title":"Battery Sensors","text":"<p>Monitor battery level and charging state.</p>"},{"location":"components/sensors/battery/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - battery: {}       # Battery level percentage\n  - battery_state: {} # Charging state (charging, discharging, full)\n</code></pre>"},{"location":"components/sensors/battery/#options","title":"Options","text":"<p>All common sensor options are supported.</p>"},{"location":"components/sensors/cpu/","title":"CPU Sensor","text":"<p>Monitor CPU utilization as a percentage.</p>"},{"location":"components/sensors/cpu/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - cpu:\n      update_interval: 10s\n</code></pre>"},{"location":"components/sensors/cpu/#options","title":"Options","text":"<p>All common sensor options are supported.</p>"},{"location":"components/sensors/cpu/#examples","title":"Examples","text":""},{"location":"components/sensors/cpu/#efficient-cpu-monitoring","title":"Efficient CPU Monitoring","text":"<pre><code>sensors:\n  - cpu:\n      update_interval: 3s\n      filters:\n        - throttle_average: 30s\n        - or:\n            - throttle: 5m\n            - delta: 5\n</code></pre> <p>This configuration:</p> <ul> <li>Checks CPU every 3 seconds</li> <li>Averages readings over 30 seconds</li> <li>Publishes if value changes by 5% OR every 5 minutes</li> </ul>"},{"location":"components/sensors/custom/","title":"Custom Sensors","text":"<p>Create your own sensors by running custom commands.</p>"},{"location":"components/sensors/custom/#basic-custom-sensor","title":"Basic Custom Sensor","text":"<pre><code>sensors:\n  - custom:\n      name: \"Service Status\"\n      unique_id: nginx_status\n      command: \"systemctl is-active nginx\"\n</code></pre>"},{"location":"components/sensors/custom/#custom-sensor-with-json-parsing","title":"Custom Sensor with JSON Parsing","text":"<pre><code>sensors:\n  - custom:\n      name: \"API Response Time\"\n      unique_id: api_response\n      command: \"curl -s https://api.example.com/health\"\n      value_template: \"{{ value_json.response_time }}\"\n      json_attributes:\n        - status\n        - latency\n        - version\n      unit_of_measurement: \"ms\"\n</code></pre>"},{"location":"components/sensors/custom/#custom-sensor-configuration","title":"Custom Sensor Configuration","text":"<pre><code>sensors:\n  - custom:\n      name: \"Custom Sensor\"\n      unique_id: \"custom_sensor\"\n      icon: \"mdi:gauge\"\n      command: \"echo 42\"\n      shell: \"bash\"              # Shell to use (bash, powershell, cmd, etc.)\n      update_interval: 30s       # How often to run the command\n      value_template: \"{{ value }}\"  # Template for extracting value\n      unit_of_measurement: \"units\"   # Unit to display\n      device_class: \"temperature\"    # Device class for Home Assistant\n      state_class: \"measurement\"     # State class for statistics\n      show_output: false         # Log command output\n      show_errors: false         # Log command errors\n      json_attributes:           # Extract JSON attributes\n        - attr1\n        - attr2\n      json_attributes_path: \"$.nested\"  # JSON path to attributes\n      env:                       # Environment variables\n        MY_VAR: \"value\"\n</code></pre>"},{"location":"components/sensors/custom/#template-variables","title":"Template Variables","text":"<p>Custom sensors commands can be templated using Go templates:</p> <pre><code>sensors:\n  - custom:\n      command: |\n        echo \"{{ .ExeDirectory }}\"\n        echo \"{{ .HostID }}\"\n        echo \"{{ .DeviceName }}\"\n</code></pre> <p>See Template Variables Reference for all available variables.</p>"},{"location":"components/sensors/custom/#custom-sensor-examples","title":"Custom Sensor Examples","text":""},{"location":"components/sensors/custom/#monitor-service-status","title":"Monitor Service Status","text":"<pre><code>sensors:\n  - custom:\n      name: \"Docker Status\"\n      unique_id: docker_status\n      command: \"systemctl is-active docker\"\n      update_interval: 60s\n</code></pre>"},{"location":"components/sensors/custom/#monitor-gpu-temperature","title":"Monitor GPU Temperature","text":"NVIDIAAMD <pre><code>sensors:\n  - custom:\n      name: \"GPU Temperature\"\n      unique_id: gpu_temp\n      command: \"nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader\"\n      unit_of_measurement: \"\u00b0C\"\n      device_class: \"temperature\"\n      update_interval: 10s\n</code></pre> <pre><code>sensors:\n  - custom:\n      name: \"GPU Temperature\"\n      unique_id: gpu_temp\n      command: \"cat /sys/class/hwmon/hwmon0/temp1_input\"\n      value_template: \"{{ value | int / 1000 }}\"\n      unit_of_measurement: \"\u00b0C\"\n      device_class: \"temperature\"\n</code></pre>"},{"location":"components/sensors/custom/#monitor-container-stats","title":"Monitor Container Stats","text":"<pre><code>sensors:\n  - custom:\n      name: \"Container Memory\"\n      unique_id: nginx_memory\n      shell: \"bash\"\n      command: |\n        docker stats --no-stream --format \"{{.MemUsage}}\" nginx | cut -d'/' -f1\n      value_template: \"{{ value | replace('MiB', '') | float }}\"\n      unit_of_measurement: \"MiB\"\n      update_interval: 30s\n</code></pre>"},{"location":"components/sensors/custom/#device-classes","title":"Device Classes","text":"<p>Custom sensors can use Home Assistant device classes, see available device classes.</p> <pre><code>sensors:\n  - custom:\n      device_class: \"temperature\"\n      unit_of_measurement: \"\u00b0C\"\n</code></pre>"},{"location":"components/sensors/custom/#state-classes","title":"State Classes","text":"<p>Enable long-term statistics in Home Assistant, see available state classes.</p> <pre><code>sensors:\n  - custom:\n      state_class: \"measurement\"\n</code></pre>"},{"location":"components/sensors/disk/","title":"Disk Sensors","text":"<p>Monitor disk space usage.</p>"},{"location":"components/sensors/disk/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - disk: {}      # Disk usage percentage\n  - disk_used: {} # Disk used in GB\n  - disk_free: {} # Disk free in GB\n</code></pre>"},{"location":"components/sensors/disk/#options","title":"Options","text":"<pre><code>sensors:\n  - disk:\n      mountpoints:\n        - /boot # Mount point to monitor (Linux/macOS)\n        - /mnt/cache\n        - /mnt/user\n        - \"C:\" # Drive to monitor (Windows)\n</code></pre> <p>All common sensor options are also supported.</p>"},{"location":"components/sensors/memory/","title":"Memory Sensors","text":"<p>Monitor RAM usage.</p>"},{"location":"components/sensors/memory/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - memory: {}      # Memory usage percentage\n  - memory_used: {} # Memory used in GB\n  - memory_free: {} # Memory free in GB\n</code></pre>"},{"location":"components/sensors/memory/#options","title":"Options","text":"<p>All common sensor options are supported.</p>"},{"location":"components/sensors/swap/","title":"Swap Sensors","text":"<p>Monitor swap/page file usage (Linux/macOS).</p>"},{"location":"components/sensors/swap/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - swap: {}      # Swap usage percentage\n  - swap_used: {} # Swap used in GB\n  - swap_free: {} # Swap free in GB\n</code></pre>"},{"location":"components/sensors/swap/#options","title":"Options","text":"<p>All common sensor options are supported.</p>"},{"location":"components/sensors/uptime/","title":"Uptime Sensor","text":"<p>Track system uptime.</p>"},{"location":"components/sensors/uptime/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - uptime: {}\n</code></pre>"},{"location":"components/sensors/uptime/#options","title":"Options","text":"<p>All common sensor options are supported.</p>"},{"location":"components/sensors/zpool/","title":"ZFS Pool Sensors","text":"<p>Monitor ZFS pool usage (FreeBSD/Linux with ZFS).</p>"},{"location":"components/sensors/zpool/#configuration","title":"Configuration","text":"<pre><code>sensors:\n  - zpool: {}      # Pool usage percentage\n  - zpool_used: {} # Pool used in GB\n  - zpool_free: {} # Pool free in GB\n</code></pre>"},{"location":"components/sensors/zpool/#options","title":"Options","text":"<pre><code>sensors:\n  - zpool:\n      pools:\n        - cache # ZFS pool name\n</code></pre> <p>All common sensor options are also supported.</p>"},{"location":"components/switches/","title":"Switches","text":"<p>Switches toggle persistent states on and off. Unlike buttons, switches maintain their state and can be turned on or off.</p>"},{"location":"components/switches/#available-switches","title":"Available Switches","text":""},{"location":"components/switches/#built-in-switches","title":"Built-in Switches","text":"<ul> <li>Startup - Control whether System Link starts automatically when the system boots</li> </ul>"},{"location":"components/switches/#custom-switches","title":"Custom Switches","text":"<ul> <li>Cron - Scheduled tasks that run on a schedule and can be enabled/disabled</li> </ul>"},{"location":"components/switches/#configuration-options","title":"Configuration Options","text":""},{"location":"components/switches/#common-options","title":"Common Options","text":"<p>All switches support these common options:</p> <pre><code>switches:\n  - switch_type:\n      name: \"Custom Name\"\n      unique_id: \"custom_id\"\n      icon: \"mdi:icon-name\"\n      availability: true\n</code></pre>"},{"location":"components/switches/cron/","title":"Cron Switches","text":"<p>Cron switches are scheduled tasks that run on a schedule and can be enabled/disabled.</p> <p>Check out the Scheduled Tasks section for more info.</p>"},{"location":"components/switches/cron/#basic-cron-switch","title":"Basic Cron Switch","text":"<pre><code>switches:\n  - cron:\n      name: \"Daily Backup\"\n      unique_id: daily_backup\n      schedule: \"0 2 * * *\"  # Daily at 2 AM\n      command: \"/scripts/backup.sh\"\n</code></pre>"},{"location":"components/switches/cron/#cron-switch-configuration","title":"Cron Switch Configuration","text":"<pre><code>switches:\n  - cron:\n      name: \"Scheduled Task\"\n      unique_id: \"scheduled_task\"\n      icon: \"mdi:clock-outline\"\n      schedule: \"*/5 * * * *\"    # Cron expression (required)\n      command: \"echo 'Hello'\"    # Command to run (required)\n      shell: \"bash\"              # Shell to use\n      detached: false            # Run in background\n      show_output: true          # Log command output\n      show_errors: true          # Log command errors\n      env:                       # Environment variables\n        MY_VAR: \"value\"\n      entities:                  # Optional sub-entities\n        duration: {}             # Task execution time\n        run: {}                  # Button to run immediately\n        exit_code: {}            # Last exit code\n        successful: {}           # Was last run successful\n        output: {}               # Captured stdout/stderr from last run\n        next_run: {}             # Time of next scheduled run\n        last_run: {}             # Time of last run\n</code></pre>"},{"location":"components/switches/cron/#cron-expression-format","title":"Cron Expression Format","text":"<p>System Link uses the standard cron format:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 second (0-59)\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 minute (0-59)\n\u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 hour (0-23)\n\u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 day of month (1-31)\n\u2502 \u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 month (1-12)\n\u2502 \u2502 \u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 day of week (0-6) (Sunday=0)\n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502\n* * * * * *\n</code></pre> <p>Special Characters: - <code>*</code> - Any value - <code>,</code> - Value list (1,3,5) - <code>-</code> - Range (1-5) - <code>/</code> - Step values (*/5)</p>"},{"location":"components/switches/cron/#cron-examples","title":"Cron Examples","text":"<pre><code># Every minute\nschedule: \"* * * * *\"\n\n# Every 5 minutes\nschedule: \"*/5 * * * *\"\n\n# Every hour at minute 30\nschedule: \"30 * * * *\"\n\n# Daily at 2:30 AM\nschedule: \"30 2 * * *\"\n\n# Every Monday at 9 AM\nschedule: \"0 9 * * 1\"\n\n# First day of month at midnight\nschedule: \"0 0 1 * *\"\n\n# Every 30 seconds\nschedule: \"*/30 * * * * *\"\n</code></pre>"},{"location":"components/switches/cron/#cron-switch-sub-entities","title":"Cron Switch Sub-Entities","text":"<p>Enable additional entities to monitor task execution:</p> <pre><code>switches:\n  - cron:\n      name: \"Health Check\"\n      unique_id: health_check\n      schedule: \"*/5 * * * *\"\n      command: \"/scripts/health-check.sh\"\n      entities:\n        duration: {}      # Sensor: execution duration in seconds\n        run: {}           # Button: run task immediately\n        exit_code: {}     # Sensor: last exit code\n        output: {}        # Sensor: captured output from last execution\n        successful: {}    # Binary sensor: was last run successful\n        next_run: {}      # Sensor: timestamp of next run\n        last_run: {}      # Sensor: timestamp of last run\n</code></pre>"},{"location":"components/switches/cron/#duration-sensor","title":"Duration Sensor","text":"<p>Tracks how long the command takes to execute.</p> <p>Unit: seconds Icon: mdi:timer</p>"},{"location":"components/switches/cron/#run-button","title":"Run Button","text":"<p>Manually trigger the task outside the schedule.</p> <p>Icon: mdi:play</p>"},{"location":"components/switches/cron/#exit-code-sensor","title":"Exit Code Sensor","text":"<p>Reports the exit code of the last execution.</p> <p>Values: 0 = success, non-zero = error Icon: mdi:numeric</p>"},{"location":"components/switches/cron/#successful-binary-sensor","title":"Successful Binary Sensor","text":"<p>Indicates whether the last run completed successfully (exit code 0).</p> <p>Icon: mdi:check-circle / mdi:alert-circle</p>"},{"location":"components/switches/cron/#next-run-sensor","title":"Next Run Sensor","text":"<p>Timestamp of when the task will run next.</p> <p>Device Class: timestamp Icon: mdi:clock-outline</p>"},{"location":"components/switches/cron/#last-run-sensor","title":"Last Run Sensor","text":"<p>Timestamp of when the task last ran.</p> <p>Device Class: timestamp Icon: mdi:clock-check-outline</p>"},{"location":"components/switches/cron/#output-sensor","title":"Output Sensor","text":"<p>Captures the combined and individual stdout/stderr output from the last command execution. Useful for quick inspection of what the command printed without needing to fetch logs.</p> <p>Type: string Icon: mdi:terminal</p> <p>Notes: - Output may be truncated in the frontend if very large. - Use the <code>show_output</code> flag on the cron switch to enable logging of full output to logs in addition to this sensor. - The output is also shown on the <code>successful</code> entity but only when the task fails, to help with debugging.</p>"},{"location":"components/switches/cron/#use-cases","title":"Use Cases","text":""},{"location":"components/switches/cron/#scheduled-backups","title":"Scheduled Backups","text":"<pre><code>switches:\n  - cron:\n      name: \"Nightly Backup\"\n      unique_id: nightly_backup\n      icon: mdi:backup-restore\n      schedule: \"0 2 * * *\"  # 2 AM daily\n      shell: \"bash\"\n      command: |\n        rsync -av /data/ /backup/\n        find /backup/ -mtime +7 -delete\n      entities:\n        duration: {}\n        successful: {}\n        last_run: {}\n</code></pre>"},{"location":"components/switches/cron/#health-checks","title":"Health Checks","text":"<pre><code>switches:\n  - cron:\n      name: \"Service Health Check\"\n      unique_id: service_health\n      schedule: \"*/5 * * * *\"  # Every 5 minutes\n      command: |\n        systemctl is-active nginx || systemctl restart nginx\n      entities:\n        successful: {}\n        next_run: {}\n</code></pre>"},{"location":"components/switches/cron/#log-rotation","title":"Log Rotation","text":"<pre><code>switches:\n  - cron:\n      name: \"Rotate Logs\"\n      unique_id: rotate_logs\n      schedule: \"0 0 * * 0\"  # Weekly on Sunday\n      shell: \"bash\"\n      command: |\n        find /var/log/app -name \"*.log\" -mtime +30 -delete\n        gzip /var/log/app/*.log.1\n</code></pre>"},{"location":"components/switches/cron/#database-cleanup","title":"Database Cleanup","text":"<pre><code>switches:\n  - cron:\n      name: \"Database Cleanup\"\n      unique_id: db_cleanup\n      schedule: \"0 3 * * *\"  # Daily at 3 AM\n      command: \"psql -c 'DELETE FROM logs WHERE created_at &lt; NOW() - INTERVAL 90 days'\"\n      entities:\n        duration: {}\n        successful: {}\n</code></pre>"},{"location":"components/switches/cron/#docker-and-scheduled-scripts","title":"Docker and Scheduled Scripts","text":"<p>System Link's Docker image includes Python and UV, making it perfect for running Python scripts with dependencies.</p>"},{"location":"components/switches/cron/#python-script-with-uv","title":"Python Script with UV","text":"<pre><code>switches:\n  - cron:\n      name: \"Python Health Check\"\n      unique_id: python_health\n      schedule: \"*/10 * * * *\"\n      command: \"uv run /scripts/health_check.py\"\n      entities:\n        successful: {}\n        duration: {}\n</code></pre> <p>Example Python script with inline dependencies:</p> <pre><code># /// script\n# dependencies = [\n#   \"requests\",\n#   \"pydantic\",\n# ]\n# ///\n\nimport requests\nfrom pydantic import BaseModel\n\nclass HealthResponse(BaseModel):\n    status: str\n    uptime: int\n\ndef check_health():\n    response = requests.get(\"http://localhost:8080/health\")\n    health = HealthResponse(**response.json())\n\n    if health.status != \"healthy\":\n        raise Exception(f\"Service unhealthy: {health.status}\")\n\n    print(f\"\u2713 Service healthy, uptime: {health.uptime}s\")\n\nif __name__ == \"__main__\":\n    check_health()\n</code></pre> <p>See Scheduled Tasks for more Python scripting examples.</p>"},{"location":"components/switches/cron/#template-variables","title":"Template Variables","text":"<p>Cron switches have access to template variables:</p> <pre><code>switches:\n  - cron:\n      name: \"Backup with Timestamp\"\n      unique_id: timestamped_backup\n      schedule: \"0 2 * * *\"\n      shell: \"bash\"\n      command: |\n        BACKUP_DIR=\"{{ .ExeDirectory }}/backups\"\n        DATE=$(date +%Y%m%d)\n        tar -czf \"${BACKUP_DIR}/backup-${DATE}.tar.gz\" /data/\n</code></pre> <p>See Template Variables Reference.</p>"},{"location":"components/switches/cron/#monitoring-cron-tasks","title":"Monitoring Cron Tasks","text":""},{"location":"components/switches/cron/#dashboard-card","title":"Dashboard Card","text":"<pre><code>type: entities\ntitle: Scheduled Tasks\nentities:\n  - entity: switch.nightly_backup\n    name: Backup\n  - entity: sensor.nightly_backup_last_run\n    name: Last Run\n  - entity: binary_sensor.nightly_backup_successful\n    name: Status\n  - entity: sensor.nightly_backup_duration\n    name: Duration\n  - entity: sensor.nightly_backup_output\n    name: Output\n  - entity: button.nightly_backup_run\n    name: Run Now\n</code></pre>"},{"location":"components/switches/cron/#automation-alert-on-failure","title":"Automation: Alert on Failure","text":"<pre><code>automation:\n  - alias: \"Alert Backup Failed\"\n    trigger:\n      - platform: state\n        entity_id: binary_sensor.nightly_backup_successful\n        to: \"off\"\n    action:\n      - service: notify.mobile_app\n        data:\n          message: \"Nightly backup failed!\"\n          data:\n            priority: high\n</code></pre>"},{"location":"components/switches/startup/","title":"Startup","text":"<p>Control whether System Link starts automatically when the system boots.</p> <p>Currently this feature is only supported on Windows</p>"},{"location":"components/switches/startup/#configuration","title":"Configuration","text":"<pre><code>switches:\n  - startup: {}\n</code></pre>"},{"location":"components/switches/startup/#options","title":"Options","text":"<p>All common switch options are supported.</p>"},{"location":"components/updaters/","title":"Updaters","text":"<p>The updater component enables remote updating of System Link directly from Home Assistant. It will create an update entity that will show in Home Assistant's updates section.</p>"},{"location":"components/updaters/#available-updaters","title":"Available Updaters","text":""},{"location":"components/updaters/#update-component","title":"Update Component","text":"<ul> <li>Update - Enable self-update capability for System Link</li> </ul>"},{"location":"components/updaters/#configuration-options","title":"Configuration Options","text":""},{"location":"components/updaters/#common-options","title":"Common Options","text":"<p>All updaters support these common options:</p> <pre><code>updaters:\n  - updater_type:\n      name: \"Custom Name\"\n      unique_id: \"custom_id\"\n      availability: true\n</code></pre>"},{"location":"components/updaters/update/","title":"Update","text":"<p>The updater component enables remote updating of System Link directly from Home Assistant. It will create an update entity that will be shown in Home Assistant's updates section.</p>"},{"location":"components/updaters/update/#configuration","title":"Configuration","text":"<p>Enable self-update capability:</p> <pre><code>updaters:\n  - update: {}\n</code></pre> <p>You can omit this if you don't want to allow updates to be triggered via Home Assistant/MQTT, or if you are using the docker container.</p>"},{"location":"components/updaters/update/#options","title":"Options","text":"<p>All common updater options are supported.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will help you install and configure System Link for your system.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"Linux/macOSWindows <pre><code>sh -c \"$(curl -fsSL jcwillox.com/l/syslink)\"\n</code></pre> <pre><code>iwr -useb jcwillox.com/l/syslink-ps1 | iex\n</code></pre> <p>The installation script will:</p> <ol> <li>Download the latest System Link binary</li> <li>Install it to <code>~/.local/share/system-link/</code></li> </ol> <p>Configuration Location: It will expect the config to be located at <code>~/.local/share/system-link/config.yaml</code>.</p>"},{"location":"getting-started/#docker","title":"Docker","text":"<p>For Docker deployments, pull the official image:</p> <pre><code>docker pull ghcr.io/jcwillox/system-link:python3-alpine\n</code></pre> <p>Run the container:</p> <pre><code>docker run -d \\\n  --name system-link \\\n  -v /path/to/config.yaml:/config/config.yaml \\\n  -v /path/to/logs:/logs \\\n  --restart unless-stopped \\\n  ghcr.io/jcwillox/system-link:python3-alpine\n</code></pre> <p>Configuration Mounts:</p> <ul> <li><code>/config/config.yaml</code> - Mount your <code>config.yaml</code> file here</li> <li><code>/logs</code> - Directory for System Link logs (optional)</li> </ul>"},{"location":"getting-started/#basic-configuration","title":"Basic Configuration","text":"<p>Create a <code>config.yaml</code> file in the System Link directory with the following:</p> <pre><code># device_name: \"My PC\"\n# host_id: 5dc39758-0393-41ba-b019-f10172f5d373\n\nmqtt:\n  host: 127.0.0.1\n  port: 1883\n  # tls: true\n  username: your_username\n  password: your_password\n\n# log_level: debug\n# log_level_mqtt: debug\n# log_timing: true\n\nbinary_sensors:\n  - status: {}\n\nbuttons:\n  - exit: {}\n  - force_shutdown: {}\n  - lock: {}\n  - reload: {}\n  - reset_topics: {}\n  - shutdown: {}\n  - sleep: {}\n\nsensors:\n  - cpu: {}\n\n  - memory: {}\n  - memory_used: {}\n  - memory_free: {}\n\n  - swap: {}\n  - swap_used: {}\n  - swap_free: {}\n\n  - disk: {}\n  - disk_used: {}\n  - disk_free: {}\n\n  - uptime: {}\n\n  - battery: {}\n  - battery_state: {}\n\n\nswitches:\n  - startup: {}\n\nupdaters:\n  - update: {}\n</code></pre>"},{"location":"getting-started/#mqtt-configuration","title":"MQTT Configuration","text":"<p>System Link requires an MQTT broker to communicate. You have two options:</p>"},{"location":"getting-started/#option-1-use-home-assistants-mqtt-addon","title":"Option 1: Use Home Assistant's MQTT Addon","text":"<p>If you're using Home Assistant, the easiest way is to install the MQTT broker addon:</p> <ol> <li>Open Home Assistant</li> <li>Navigate to Settings \u2192 Add-ons \u2192 Add-on Store</li> <li>Search for and install Mosquitto Broker</li> <li>The addon provides MQTT credentials in its configuration</li> <li>Add these credentials to your System Link <code>config.yaml</code>:</li> </ol> <pre><code>mqtt:\n  host: 192.168.1.100  # Your Home Assistant IP\n  port: 1883\n  username: mqtt_user\n  password: mqtt_password\n</code></pre>"},{"location":"getting-started/#option-2-use-external-mqtt-broker","title":"Option 2: Use External MQTT Broker","text":"<p>If using an external MQTT broker (e.g., mosquitto):</p> <pre><code>mqtt:\n  host: mqtt.example.com\n  port: 1883  # or 8883 for TLS\n  tls: false  # Set to true if using TLS\n  username: system-link\n  password: your_secure_password\n</code></pre>"},{"location":"getting-started/#home-assistant-integration","title":"Home Assistant Integration","text":"<p>Once configured, System Link will automatically appear in Home Assistant via MQTT Discovery:</p> <ol> <li>Open Home Assistant</li> <li>Go to Settings \u2192 Devices &amp; Services \u2192 MQTT</li> <li>You should see your System Link device listed</li> <li>All configured components (sensors, buttons, switches) will be automatically available</li> </ol>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Check the Security section to understand System Link's security features</li> <li>Explore Components to see all available monitoring and control options</li> <li>Learn about Advanced Features like templating and scheduled tasks</li> <li>Configure custom Buttons and Switches for your specific needs</li> </ul>"},{"location":"security/","title":"Security","text":"<p>System Link is designed with security as a priority. This section covers the security features and best practices for deploying System Link securely.</p>"},{"location":"security/#topics","title":"Topics","text":"<ul> <li>Access Control - Configure MQTT ACLs to restrict device permissions</li> <li>Code Execution - Understanding System Link's approach to command execution</li> <li>Encryption - Set up TLS encryption for MQTT communication</li> </ul>"},{"location":"security/access-control/","title":"MQTT Access Control Lists (ACLs)","text":"<p>System Link supports MQTT ACLs, allowing you to restrict what each device can control.</p> <p>This is great for ensuring one compromised device can't control or compromise others on your network, especially when running system-link on an untrusted device, or if you just don't want to put your root mqtt creds everywhere.</p>"},{"location":"security/access-control/#per-device-acls","title":"Per-Device ACLs","text":"<p>Restrict each System Link instance to only its own topics:</p> <pre><code># /etc/mosquitto/acl\n\n# Device 1 - Gaming PC\nuser gaming-pc-mqtt\ntopic system-link/3d8085e5-1fca-44e5-8d5a-0dd95b1a74ee/#\ntopic system-link/+/3d8085e5-1fca-44e5-8d5a-0dd95b1a74ee/#\ntopic homeassistant/+/3d8085e5-1fca-44e5-8d5a-0dd95b1a74ee/#\n\n# Device 2 - Media Server\nuser media-server-mqtt\ntopic system-link/7f3a2b9c-8e4d-4a1f-9b2c-6d5e8f7a9b1c/#\ntopic system-link/+/7f3a2b9c-8e4d-4a1f-9b2c-6d5e8f7a9b1c/#\ntopic homeassistant/+/7f3a2b9c-8e4d-4a1f-9b2c-6d5e8f7a9b1c/#\n\n# Home Assistant - Can control all devices\nuser homeassistant\ntopic #\n</code></pre>"},{"location":"security/access-control/#finding-your-device-uuid","title":"Finding Your Device UUID","text":"<p>The device UUID (<code>host_id</code>) is used in ACL rules. Find it by:</p> <ol> <li>Check System Link logs on first run</li> <li>Home Assistant device info page</li> <li>Explicitly set in config.yaml:</li> </ol> <pre><code>host_id: \"3d8085e5-1fca-44e5-8d5a-0dd95b1a74ee\"\n</code></pre>"},{"location":"security/code-execution/","title":"Code Execution","text":"<ul> <li>We don't allow arbitrary remote code execution by default. This means remote users can't just run any command on your system.</li> <li>Instead, we provide custom, buttons, switches, etc., with predefined actions, specified in your local configuration.</li> <li>This means you can also choose what commands to expose, for example, you might not want your server to be able to be remotely shutdown. You can choose to not expose that button entity, but could expose the lock button entity.</li> <li>This is a drastically more secure default, rather than allowing arbitrary code execution, which some other tools in this space do allow. Some other tools also don't allow you to disable basic power management commands, if you don't want or need remote users to be able to shut down, restart, sleep, etc., your device.</li> </ul>"},{"location":"security/encryption/","title":"Encryption &amp; TLS","text":"<p>System Link fully supports encrypted MQTT connections using TLS/SSL, ensuring all communication between System Link and your MQTT broker is secure and cannot be intercepted.</p>"},{"location":"security/encryption/#why-use-tls","title":"Why Use TLS?","text":"<ul> <li>\ud83d\udd10 Encryption \u2013 All data transmitted over the network is encrypted</li> <li>\u2705 Authentication \u2013 Verify that you're connecting to the correct MQTT broker</li> <li>\ud83d\udeab MITM Protection \u2013 Prevents man-in-the-middle attacks</li> </ul>"},{"location":"security/encryption/#basic-tls-configuration","title":"Basic TLS Configuration","text":"<p>The simplest way to enable TLS is to set the <code>tls</code> flag to <code>true</code>:</p> <pre><code>mqtt:\n  host: mqtt.home.local\n  port: 8883  # Standard TLS port for MQTT\n  tls: true\n  username: system-link\n  password: your_password\n</code></pre> <p>System Link will automatically verify the broker's certificate against the system's trusted CA certificates.</p>"},{"location":"security/encryption/#setting-up-tls-with-mosquitto","title":"Setting Up TLS with Mosquitto","text":"<p>Check the instructions for your MQTT broker to set up tls, and ideally also get a valid ssl certificate from a trusted CA like Let's Encrypt.</p>"},{"location":"snippets/scheduled-task-grid/","title":"Scheduled task grid","text":"Dashboard configuration <p>I use Mushroom cards here, but you could easily recreate this with standard tile cards.</p> <pre><code>type: grid\ncards:\n  - type: heading\n    heading: CommBank\n    heading_style: title\n    icon: mdi:bank\n  - type: custom:mushroom-chips-card\n    chips:\n      - type: entity\n        entity: switch.pyscripts_test_script\n        icon_color: primary\n        icon: mdi:script-text-play\n      - type: entity\n        entity: button.pyscripts_test_script_run\n        tap_action:\n          action: more-info\n        hold_action:\n          action: none\n        double_tap_action:\n          action: none\n        content_info: none\n        name: Run\n        icon_color: red\n        icon: \"\"\n  - type: tile\n    entity: sensor.pyscripts_test_script_duration\n    name: Duration\n    color: primary\n    hide_state: false\n    vertical: false\n    features_position: bottom\n  - type: tile\n    entity: binary_sensor.pyscripts_test_script_successful\n    name: Status\n    vertical: false\n    features_position: bottom\n  - type: tile\n    entity: sensor.pyscripts_test_script_last_run\n    name: Last Run\n    color: primary\n    vertical: false\n    features_position: bottom\n  - type: tile\n    entity: sensor.pyscripts_test_script_next_run\n    name: Next Run\n    color: primary\n    vertical: false\n    features_position: bottom\n  - type: markdown\n    content: &gt;\n      {% set entity_id = \"binary_sensor.pyscripts_test_script_successful\"\n      %}\n\n\n      {% set stderr = state_attr(entity_id, \"stderr\") %}\n\n      {% set stdout = state_attr(entity_id, \"stdout\") %}\n\n\n      {% if stdout %}\n\n      #### Output\n\n      ```\n\n      {{ stdout }}\n\n      ```\n\n      {% endif %}\n\n\n      {% if stderr %}\n\n      #### Error\n\n      ```\n\n      {{ stderr }}\n\n      ```\n\n      {% endif %}\n\n\n      #### Exit Code: {{ state_attr(entity_id, \"code\") or 0 }}\n    visibility:\n      - condition: state\n        entity: binary_sensor.pyscripts_test_script_successful\n        state: \"on\"\n</code></pre>"}]}